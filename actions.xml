<?xml version="1.0"?>

<!DOCTYPE ACTIONS SYSTEM "actions.dtd">

<ACTIONS>
	<ACTION NAME="factor-eval-selection">
		<CODE>
			sel = textArea.selectedText;
			if(sel == null)
				view.toolkit.beep();
			else
				factor.jedit.FactorPlugin.eval(view,sel);
		</CODE>
	</ACTION>
	<ACTION NAME="factor-run-file">
		<CODE>
			buffer.save(view,null);
			VFSManager.waitForRequests();
			factor.jedit.FactorPlugin.eval(view,
				"\""
				+ MiscUtilities.charsToEscapes(buffer.path)
				+ "\" run-file");
		</CODE>
	</ACTION>
	<ACTION NAME="factor-apropos">
		<CODE>
			if(textArea.selectionCount == 0)
				textArea.selectWord();
			factor.jedit.FactorPlugin.eval(view,
				"\""
				+ MiscUtilities.charsToEscapes(
				textArea.selectedText)
				+ "\" apropos.");
		</CODE>
	</ACTION>
	<ACTION NAME="factor-see">
		<CODE>
			data = sidekick.SideKickParsedData.getParsedData(view);
			if(data instanceof factor.jedit.FactorParsedData)
			{
				if(textArea.selectionCount == 0)
					textArea.selectWord();
				factor.jedit.FactorPlugin.eval(view,
					"\""
					+ MiscUtilities.charsToEscapes(
					textArea.selectedText)
					+ "\" "
					+ factor.FactorReader.unparseObject(data.use)
					+ " search see");
			}
			else
				view.toolkit.beep();
		</CODE>
	</ACTION>
	<ACTION NAME="factor-usages">
		<CODE>
			data = sidekick.SideKickParsedData.getParsedData(view);
			if(data instanceof factor.jedit.FactorParsedData)
			{
				if(textArea.selectionCount == 0)
					textArea.selectWord();
				factor.jedit.FactorPlugin.eval(view,
					"\""
					+ MiscUtilities.charsToEscapes(
					textArea.selectedText)
					+ "\" "
					+ factor.FactorReader.unparseObject(data.use)
					+ " search usages.");
			}
			else
				view.toolkit.beep();
		</CODE>
	</ACTION>
</ACTIONS>
